(window["fhirDataTool_jsonp"]=window["fhirDataTool_jsonp"]||[]).push([[1],{"0902":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"details[data-v-6c5b9c20]{background-color:beige;padding:10px}",""])},"0b2e":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'.json[data-v-c902e364],pre[data-v-c902e364]{text-align:left}.json[data-v-c902e364]{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item[data-v-c902e364]{display:inline-block}.node[data-v-c902e364]{margin-left:1em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.key[data-v-c902e364]{margin-right:2px}.item:not(:last-child)>.json[data-v-c902e364]:after{content:","}.item .json[data-v-c902e364],.key[data-v-c902e364],.parenthesis[data-v-c902e364],.value[data-v-c902e364]{display:inline}.value[data-v-c902e364]:hover{cursor:pointer;background-color:rgba(148,85,219,.8)}.key[data-v-c902e364]:hover{cursor:pointer;background-color:rgba(85,157,219,.8)}.children-toggler[data-v-c902e364]{position:relative;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:color,-webkit-transform;transition-property:color,-webkit-transform;transition-property:transform,color;transition-property:transform,color,-webkit-transform;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate(90deg);transform:rotate(90deg);display:inline-block;cursor:pointer;color:#00ff3f;font-size:12px}.collapsed>.children-toggler[data-v-c902e364]{color:#ff003f;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.ellipsis[data-v-c902e364]{display:inline-block;cursor:pointer}.value.active[data-v-c902e364]{background-color:rgba(191,202,40,.8)}.key.active[data-v-c902e364]{background-color:rgba(191,0,150,.8)}',""])},"4e3b":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".fhir-form[data-v-122a7f1c]{margin-bottom:10px}",""])},"5b38":function(e,t,a){"use strict";a.r(t);var r=a("e1fe"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"6c70":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,"form[data-v-3736a07e]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""])},8706:function(e,t,a){"use strict";a.r(t);var r=a("f4df"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"8fa8":function(e,t,a){var r=a("0902");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("35d6").default;e.exports.__inject__=function(e){n("5ffc590f",r,e)}},bb0f:function(e,t,a){e.exports=a.p+"img/redcap_logo.db61113b.png"},bc13b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-page"},[r("p",[e._v("Home")]),r("img",{attrs:{alt:"Vue logo",src:a("bb0f")}}),r("FhirForm",{staticClass:"fhir-form"}),r("ResourceContainer")],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fhir-form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("EndpointSelector"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mrn,expression:"mrn"}],attrs:{type:"text",name:"mrn"},domProps:{value:e.mrn},on:{input:function(t){t.target.composing||(e.mrn=t.target.value)}}}),a(e.endpointForm,{tag:"component"}),a("button",{attrs:{type:"submit"}},[e._v("submit")])],1),a("button",{on:{click:e.onCleanClick}},[e._v("clean results")])])},i=[],s=(a("96cf"),a("3b8d")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.endpoint,expression:"endpoint"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.endpoint=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Please select an endpoint...")]),e._l(e.endpoints,(function(t,r){return a("option",{key:r,domProps:{value:t,textContent:e._s(t)}})}))],2)])},l=[],u=a("7eac"),d={name:"EndpointSelector",data:()=>({}),computed:{endpoints(){return u["a"]},endpoint:{get:function(){return this.$store.state.endpoint.current},set:function(e){this.setEndpoint(e)}}},methods:{setEndpoint(e){this.$store.dispatch("endpoint/setEndpoint",e)}}},p=d,v=a("2877");function f(e){}var m=Object(v["a"])(p,c,l,!1,f,"787572e2",null,!0),h=m.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"medicationorder-params"},e._l(e.status_list,(function(t,r){return a("div",{key:r},[a("label",{attrs:{for:"status-"+r}},[e._v(e._s(t))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",name:"status",id:"status-"+r},domProps:{value:t,checked:Array.isArray(e.checked)?e._i(e.checked,t)>-1:e.checked},on:{change:function(a){var r=e.checked,n=a.target,o=!!n.checked;if(Array.isArray(r)){var i=t,s=e._i(r,i);n.checked?s<0&&(e.checked=r.concat([i])):s>-1&&(e.checked=r.slice(0,s).concat(r.slice(s+1)))}else e.checked=o}}})])})),0)},b=[],y={name:"MedicationOrderFields",data:()=>({status_list:["active","completed","on-hold","stopped"],checked:[]}),created(){var e=this.$store.state.endpoint.params,t=e.MedicationOrder||{},a=t.status,r=void 0===a?[]:a;this.checked=r},watch:{checked(){var e={status:this.checked};this.$store.dispatch("endpoint/setParam",{key:"MedicationOrder",value:e})}},computed:{},methods:{}},g=y;function k(e){}var x=Object(v["a"])(g,_,b,!1,k,"854920bc",null,!0),C=x.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"observation-params"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.current_category,expression:"current_category"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.current_category=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.categories,(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])}))],2)])},w=[],$={name:"ObservationFields",data:()=>({categories:["laboratory","vital-signs","social-history"]}),computed:{current_category:{get(){var e=this.$store.state.endpoint.params,t=e["Observation"]||{},a=t.category;return a},set(e){this.$store.dispatch("endpoint/setParam",{key:"Observation",value:{category:e}})}}},methods:{}},O=$;function A(e){}var R=Object(v["a"])(O,j,w,!1,A,"059c403e",null,!0),E=R.exports,K={name:"FhirForm",components:{EndpointSelector:h},data:()=>({}),computed:{mrn:{get(){return this.$store.state.endpoint.mrn},set(e){this.$store.dispatch("endpoint/setMRN",e)}},endpointForm(){var e=null,t=this.$store.state.endpoint.current;switch(t){case"Condition":e=null;break;case"MedicationOrder":e=C;break;case"Observation":e=E;break;default:break}return e}},methods:{onSubmit(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.endpoint.current,r=e.$store.state.endpoint.mrn,n=e.$store.state.endpoint.params,o=n[a]||[],t.prev=4,t.next=7,e.$store.dispatch("resource/fetchResource",{endpoint:a,mrn:r,params:o});case 7:i=t.sent,e.$store.dispatch("resource/setResource",{resource:i}),s=[i],e.$store.dispatch("resource/setResources",{resources:s}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()},onCleanClick(){var e=[],t={};this.$store.dispatch("resource/setResource",{resource:t}),this.$store.dispatch("resource/setResources",{resources:e})}}},S=K;function V(e){var t=a("5b38");t.__inject__&&t.__inject__(e)}var F=Object(v["a"])(S,o,i,!1,V,"3736a07e",null,!0),N=F.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"resource-container"}},[a("h1",[e._v("container")]),e._v("\n  "+e._s(e.resource)+"\n  "),a("ResourceRawData",{attrs:{raw_data:e.getSource(e.resource)}}),a("LoincCodesTable",{attrs:{loinc_codes:[]}})],1)},D=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("details",[a("summary",[e._v("source")]),a("JsonObject",{attrs:{value:e.raw_data}}),a("button",{on:{click:e.copyData}},[e._v("copy")])],1)])},J=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json",class:{collapsed:e.collapsed,activeValue:e.activeValue}},[e.showKey?a("div",{staticClass:"key",class:{active:e.activeKey},attrs:{title:e.path},on:{click:function(t){return e.onKeyClick(e.key_name,t)}}},[e._v('"'+e._s(e.key_name)+'":')]):e._e(),"object"===typeof e.value?[a("div",{staticClass:"parenthesis"},[e._v(e._s("array"===e.type?"[":"{"))]),a("div",{staticClass:"children-toggler",on:{click:e.toggleChildren}},[e._v("â–¶")]),e.valueIsEmpty?e._e():[e.collapsed?a("div",{staticClass:"ellipsis",on:{click:e.toggleChildren}},[e._v("...")]):a("div",{staticClass:"node"},e._l(e.value,(function(t,r){return a("div",{key:r,staticClass:"item"},[a("JsonObject",{attrs:{key_name:r,value:t,depth:e.depth+1}})],1)})),0)],a("div",{staticClass:"parenthesis"},[e._v(e._s("array"===e.type?"]":"}"))])]:[a("div",{staticClass:"value",class:{active:e.activeValue},on:{click:function(t){return e.onValueClick(e.value,t)}}},[e._v('"'+e._s(e.value)+'"')])]],2)},I=[],L=(a("ac6a"),a("8bbf")),z=a.n(L),H=new z.a,q={name:"JsonObject",data:()=>({collapsed:!1,activeValue:!1,activeKey:!1}),props:{depth:{type:Number,default:0},value:{default:null},key_name:{type:[String,Number],default:null}},created(){H.$on("keyClicked",(e,t)=>{var a=t.shiftKey;this.setActiveKey(e,a)}),H.$on("valueClicked",(e,t)=>{var a=t.shiftKey;this.setActiveValue(e,a)})},computed:{type(){return"object"!==typeof this.value?typeof this.value:Array.isArray(this.value)?"array":"object"},path(){if(null!==this.key_name){var e=[this.key_name],t=this.$parent;while(t.$options.name===this.$options.name)null!==t.key_name&&e.push(t.key_name),t=t.$parent;return e.reverse()}},valueIsEmpty(){var e=this.value;return"object"===typeof e?Array.isArray(e)?e.length<1:Object.keys(e).length<1:!e},isObject(){return"object"===typeof this.value&&!Array.isArray(this.value)},showKey(){return this.$parent.isObject}},methods:{setActiveKey(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._uid===e._uid?this.activeKey=!this.activeKey:t||(this.activeKey=!1)},setActiveValue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._uid===e._uid?this.activeValue=!this.activeValue:t||(this.activeValue=!1)},toggleChildren(){this.collapsed=!this.collapsed},onKeyClick(e,t){H.$emit("keyClicked",this,t),console.log(e,this.path)},onValueClick(e,t){H.$emit("valueClicked",this,t),console.log({value:e,path:this.path})}}},B=q;function G(e){var t=a("c2c2");t.__inject__&&t.__inject__(e)}var Q=Object(v["a"])(B,M,I,!1,G,"c902e364",null,!0),U=Q.exports,W={name:"ResourceRawData",components:{JsonObject:U},props:{raw_data:{type:Object,default:()=>({})}},methods:{onKeyClick(e){var t=e.key,a=e.path;console.log(arguments),this.$store.dispatch("mappings/setKey",{key:t,path:a})},onValueClick(e){var t=e.value,a=e.path;console.log(arguments),this.$store.dispatch("mappings/setValues",{value:t,path:a})},prettify(e){var t=JSON.stringify(e,null,2);return t},copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))},copyData(){var e=this.prettify(this.raw_data);this.copyToClipboard(e),alert("copied!")}}},X=W;function Y(e){var t=a("f9cb");t.__inject__&&t.__inject__(e)}var Z=Object(v["a"])(X,T,J,!1,Y,"6c5b9c20",null,!0),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"loinc-codes-table"}},[a("h1",[e._v("LOINC Codes")]),e._v("\n  "+e._s(e.loinc_codes)+"\n")])},ae=[],re={name:"loinc-codes-table",components:{},data:()=>({}),props:{loinc_codes:{type:Array,default:[]}}},ne=re;function oe(e){}var ie=Object(v["a"])(ne,te,ae,!1,oe,"2f186244",null,!0),se=ie.exports,ce={name:"resource-container",components:{ResourceRawData:ee,LoincCodesTable:se},data:()=>({}),props:{data:{type:Object}},computed:{resource(){var e=this.$store.state.resource.resource,t=void 0===e?{}:e;return t}},methods:{getSource(e){try{var t=e.metadata.source,a=void 0===t?{}:t;return a}catch(r){return{}}},onClick(){console.log(123)}}},le=ce;function ue(e){}var de=Object(v["a"])(le,P,D,!1,ue,"0b54bb8e",null,!0),pe=de.exports,ve={name:"HomePage",components:{FhirForm:N,ResourceContainer:pe},props:{msg:String},methods:{},computed:{}},fe=ve;function me(e){var t=a("8706");t.__inject__&&t.__inject__(e)}var he=Object(v["a"])(fe,r,n,!1,me,"122a7f1c",null,!0);t["default"]=he.exports},c2c2:function(e,t,a){"use strict";a.r(t);var r=a("ead9"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},e1fe:function(e,t,a){var r=a("6c70");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("35d6").default;e.exports.__inject__=function(e){n("53f0b054",r,e)}},ead9:function(e,t,a){var r=a("0b2e");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("35d6").default;e.exports.__inject__=function(e){n("d725d694",r,e)}},f4df:function(e,t,a){var r=a("4e3b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("35d6").default;e.exports.__inject__=function(e){n("214bdb4f",r,e)}},f9cb:function(e,t,a){"use strict";a.r(t);var r=a("8fa8"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a}}]);
//# sourceMappingURL=fhir-data-tool.1.min.js.map